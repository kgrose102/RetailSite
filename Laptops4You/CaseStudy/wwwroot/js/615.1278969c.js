"use strict";(globalThis["webpackChunkcasestudyserver"]=globalThis["webpackChunkcasestudyserver"]||[]).push([[615],{2403:(t,e,a)=>{a.d(e,{G:()=>l,W:()=>r});const s="localhost"===window.location.hostname?"https://localhost:7261/api/":"/api/",l=async t=>{let e,a=d();try{let l=await fetch(`${s}${t}`,{method:"GET",headers:a});e=await l.json()}catch(t){console.log(t),e={error:`Error has occured: ${t.message}`}}return e},r=async(t,e)=>{let a,l=d();try{let r=await fetch(`${s}${t}`,{method:"POST",headers:l,body:JSON.stringify(e)});a=await r.json()}catch(t){a=t}return a},d=()=>{const t=new Headers,e=JSON.parse(sessionStorage.getItem("customer"));return e?(t.append("Content-Type","application/json"),t.append("Authorization","Bearer "+e.token)):t.append("Content-Type","application/json"),t}},4615:(t,e,a)=>{a.r(e),a.d(e,{default:()=>V});var s=a(1347),l=a(7763);const r={class:"text-center qmt-md"},d={key:1,class:"text-h6 text-bold text-center text-primary"},o=["src"],c=["src"],i={class:"row"};function n(t,e,a,n,u,m){const p=(0,s.g2)("q-avatar"),g=(0,s.g2)("q-select"),h=(0,s.g2)("q-item-section"),b=(0,s.g2)("q-item"),y=(0,s.g2)("q-list"),f=(0,s.g2)("q-card"),k=(0,s.g2)("q-dialog"),q=(0,s.g2)("q-btn"),v=(0,s.g2)("q-card-actions"),w=(0,s.g2)("q-card-section"),S=(0,s.g2)("q-tooltip"),_=(0,s.g2)("q-chip"),A=(0,s.g2)("q-input"),F=(0,s.g2)("q-scroll-area"),C=(0,s.gN)("close-popup");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.bF)(p,{class:"q-mb-lg q-mt-lg",size:"100px",square:""},{default:(0,s.k6)((()=>e[7]||(e[7]=[(0,s.Lk)("img",{src:"/img/casestudylogo.png"},null,-1)]))),_:1,__:[7]}),e[10]||(e[10]=(0,s.Lk)("div",{class:"text-h2 q-mt-lg"},"Brand List",-1)),n.state.brands.length>0?((0,s.uX)(),(0,s.Wv)(g,{key:0,class:"q-mt-lg q-ml-lg",style:{width:"50vw","margin-bottom":"4vh","background-color":"#fff"},"option-value":"id","option-label":"name",options:n.state.brands,label:"Select a Brand",modelValue:n.state.selectedBrandId,"onUpdate:modelValue":[e[0]||(e[0]=t=>n.state.selectedBrandId=t),e[1]||(e[1]=t=>n.getProducts())],"emit-value":"","map-options":""},null,8,["options","modelValue"])):(0,s.Q3)("",!0),n.state.products.length>0?((0,s.uX)(),(0,s.CE)("div",d,(0,l.v_)(n.state.selectedBrand.name)+" ITEMS ",1)):(0,s.Q3)("",!0),(0,s.bF)(F,{style:{height:"55vh"}},{default:(0,s.k6)((()=>[(0,s.bF)(f,{class:"q-ma-md"},{default:(0,s.k6)((()=>[(0,s.bF)(y,{separator:""},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.state.products,(t=>((0,s.uX)(),(0,s.Wv)(b,{onClick:e=>n.selectProduct(t.id),clickable:"",key:t.id},{default:(0,s.k6)((()=>[(0,s.bF)(h,{avatar:""},{default:(0,s.k6)((()=>[(0,s.bF)(p,null,{default:(0,s.k6)((()=>[(0,s.Lk)("img",{src:`/img/${t.graphicName}`},null,8,o)])),_:2},1024)])),_:2},1024),(0,s.bF)(h,{class:"text-left"},{default:(0,s.k6)((()=>[(0,s.eW)((0,l.v_)(t.productName),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),(0,s.bF)(k,{modelValue:n.state.itemSelected,"onUpdate:modelValue":e[2]||(e[2]=t=>n.state.itemSelected=t),"transition-show":"rotate","transition-hide":"rotate"},null,8,["modelValue"]),(0,s.bF)(k,{modelValue:n.state.itemSelected,"onUpdate:modelValue":e[6]||(e[6]=t=>n.state.itemSelected=t),"transition-show":"rotate","transition-hide":"rotate"},{default:(0,s.k6)((()=>[(0,s.bF)(f,null,{default:(0,s.k6)((()=>[(0,s.bF)(v,{align:"right"},{default:(0,s.k6)((()=>[(0,s.bo)((0,s.bF)(q,{flat:"",label:"X",color:"primary",class:"text-h5"},null,512),[[C]])])),_:1}),(0,s.bF)(w,{class:"text-center"},{default:(0,s.k6)((()=>[(0,s.Lk)("img",{src:`/img/${n.state.selectedProduct.graphicName}`,width:"50%"},null,8,c)])),_:1}),(0,s.bF)(_,{icon:"bookmark",color:"primary","text-color":"white"},{default:(0,s.k6)((()=>[e[8]||(e[8]=(0,s.eW)(" Details ")),(0,s.bF)(S,{"transition-show":"flip-right","transition-hide":"flip-left","text-color":"white"},{default:(0,s.k6)((()=>[(0,s.eW)((0,l.v_)(n.state.selectedProduct.description),1)])),_:1})])),_:1,__:[8]}),(0,s.bF)(w,null,{default:(0,s.k6)((()=>[(0,s.Lk)("div",i,[(0,s.bF)(A,{modelValue:n.state.qty,"onUpdate:modelValue":e[3]||(e[3]=t=>n.state.qty=t),modelModifiers:{number:!0},type:"number",filled:"",placeholder:"qty",hint:"Qty",dense:"",style:{"max-width":"12vw"}},null,8,["modelValue"]),e[9]||(e[9]=(0,s.eW)("Â  ")),(0,s.bF)(q,{color:"primary",label:"Add To cart",disable:n.state.qty<0,onClick:e[4]||(e[4]=t=>n.addTocart()),style:{"max-width":"25vw","margin-left":"3vw"}},null,8,["disable"]),(0,s.bF)(q,{color:"primary",label:"View Cart",disable:n.state.qty<0,onClick:e[5]||(e[5]=t=>n.viewCart()),style:{"max-width":"25vw","margin-left":"3vw"}},null,8,["disable"])])])),_:1}),(0,s.bF)(w,{class:"text-center text-positive"},{default:(0,s.k6)((()=>[(0,s.eW)((0,l.v_)(n.state.dialogStatus),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])}a(939),a(7008);var u=a(4187),m=a(2403),p=a(455);const g={setup(){const t=(0,p.rd)();(0,s.sV)((()=>{a()}));let e=(0,u.Kh)({status:"",brands:[],products:[],selectedBrand:{},selectedBrandId:"",selectedProduct:[],dialogStatus:"",itemSelected:!1,qty:0,cart:[]});const a=async()=>{try{e.status="Brands Loaded",e.brands=await(0,m.G)("Brand")}catch(t){console.log(t),e.status=`Error has occured: ${t.message}`}},l=async()=>{try{e.selectedBrand=e.brands.find((t=>t.id===e.selectedBrandId)),e.status=`finding products for brand ${e.selectedBrand}...`,e.products=await(0,m.G)(`Product/${e.selectedBrand.id}`),e.status=`loaded ${e.products.length} product list for ${e.selectedBrand.name}`}catch(t){console.log(t),e.status=`Error has occured: ${t.message}`}},r=async t=>{try{e.selectedProduct=e.products.find((e=>e.id===t)),e.itemSelected=!0,e.dialogStatus="",sessionStorage.getItem("cart")&&(e.cart=JSON.parse(sessionStorage.getItem("cart")))}catch(t){console.log(t),e.status=`Error has occured: ${t.message}`}},d=()=>{let t=-1;e.selectedProduct.brand=e.selectedBrand,e.cart.length>0&&(t=e.cart.findIndex((t=>t.id===e.selectedProduct.id))),e.qty>0?(-1===t?e.cart.push({qty:e.qty,item:e.selectedProduct}):e.cart[t]={qty:e.qty,item:e.selectedProduct},e.dialogStatus=`${e.qty} item(s) added`):(-1!==t&&e.cart.splice(t,1),e.dialogStatus="item(s) removed"),sessionStorage.setItem("cart",JSON.stringify(e.cart)),e.qty=0},o=()=>{t.push("cart")};return{loadBrands:a,state:e,getProducts:l,selectProduct:r,addTocart:d,router:t,viewCart:o}}};var h=a(2968),b=a(5305),y=a(2183),f=a(6783),k=a(3341),q=a(3766),v=a(2589),w=a(4958),S=a(2540),_=a(5034),A=a(9039),F=a(222),C=a(1529),x=a(8387),B=a(6067),Q=a(8657),P=a(272),$=a.n(P);const I=(0,h.A)(g,[["render",n]]),V=I;$()(g,"components",{QAvatar:b.A,QSelect:y.A,QScrollArea:f.A,QCard:k.A,QList:q.A,QItem:v.A,QItemSection:w.A,QDialog:S.A,QCardActions:_.A,QBtn:A.A,QCardSection:F.A,QChip:C.A,QTooltip:x.A,QInput:B.A}),$()(g,"directives",{ClosePopup:Q.A})}}]);