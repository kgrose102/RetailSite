"use strict";(globalThis["webpackChunkcasestudyserver"]=globalThis["webpackChunkcasestudyserver"]||[]).push([[891],{1272:(t,e,a)=>{a.r(e),a.d(e,{default:()=>F});var s=a(1347),l=a(7763);const r={class:"text-center"},o={class:"text-h6 text-positive"};function c(t,e,a,c,n,i){const u=(0,s.g2)("q-avatar"),m=(0,s.g2)("q-icon"),d=(0,s.g2)("q-item-section"),p=(0,s.g2)("q-item"),_=(0,s.g2)("q-list"),g=(0,s.g2)("q-card"),h=(0,s.g2)("q-btn"),f=(0,s.g2)("q-scroll-area");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.bF)(u,{class:"q-mb-lg q-mt-lg",size:"75px",square:""},{default:(0,s.k6)((()=>e[2]||(e[2]=[(0,s.Lk)("img",{src:"/img/casestudylogo.png"},null,-1)]))),_:1,__:[2]}),e[10]||(e[10]=(0,s.Lk)("div",{class:"text-h4 q-mt-md text-primary"},"Cart Contents",-1)),(0,s.bF)(u,{class:"q-mt-md",size:"xl",square:""},{default:(0,s.k6)((()=>[(0,s.bF)(m,{name:"shopping_cart",color:"accent",size:"50px"})])),_:1}),(0,s.Lk)("div",o,(0,l.v_)(c.state.status),1),(0,s.bF)(f,{style:{height:"55vh"}},{default:(0,s.k6)((()=>[(0,s.bF)(p,{style:{bottom:"-2vh"}},{default:(0,s.k6)((()=>[(0,s.bF)(d,{class:"q-ml-sm text-h6 text-primary text-left"},{default:(0,s.k6)((()=>e[3]||(e[3]=[(0,s.eW)("Name")]))),_:1,__:[3]}),(0,s.bF)(d,{class:"q-ml-sm text-h6 text-primary"},{default:(0,s.k6)((()=>e[4]||(e[4]=[(0,s.eW)("QTY")]))),_:1,__:[4]}),(0,s.bF)(d,{class:"q-ml-sm text-h6 text-primary text-left"},{default:(0,s.k6)((()=>e[5]||(e[5]=[(0,s.eW)("MSRP")]))),_:1,__:[5]}),(0,s.bF)(d,{class:"q-ml-sm text-h6 text-primary text-left"},{default:(0,s.k6)((()=>e[6]||(e[6]=[(0,s.eW)("Extended")]))),_:1,__:[6]})])),_:1}),(0,s.bF)(g,{class:"q-ma-md"},{default:(0,s.k6)((()=>[(0,s.bF)(_,{separator:""},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(c.state.cart,(t=>((0,s.uX)(),(0,s.Wv)(p,{clickable:"",key:t.id},{default:(0,s.k6)((()=>[(0,s.bF)(d,{class:"col-2 text-left"},{default:(0,s.k6)((()=>[(0,s.eW)((0,l.v_)(t.item.productName),1)])),_:2},1024),(0,s.bF)(d,{class:"col-3"},{default:(0,s.k6)((()=>[(0,s.eW)((0,l.v_)(t.qty),1)])),_:2},1024),(0,s.bF)(d,{class:"text-left col-4"},{default:(0,s.k6)((()=>[(0,s.eW)(" $"+(0,l.v_)(t.item.msrp),1)])),_:2},1024),(0,s.bF)(d,{class:"col-5 text-left"},{default:(0,s.k6)((()=>[(0,s.eW)(" $"+(0,l.v_)(t.item.msrp*t.qty),1)])),_:2},1024)])),_:2},1024)))),128)),(0,s.bF)(p,null,{default:(0,s.k6)((()=>[(0,s.bF)(d,{class:"col-8 text-right",style:{"font-size":"large"}},{default:(0,s.k6)((()=>e[7]||(e[7]=[(0,s.Lk)("strong",null,"Sub: ",-1)]))),_:1,__:[7]}),(0,s.bF)(d,{class:"text-right col-3"},{default:(0,s.k6)((()=>[(0,s.eW)(" $"+(0,l.v_)(c.state.priceTotal),1)])),_:1})])),_:1}),(0,s.bF)(p,null,{default:(0,s.k6)((()=>[(0,s.bF)(d,{class:"col-8 text-right",style:{"font-size":"large"}},{default:(0,s.k6)((()=>e[8]||(e[8]=[(0,s.Lk)("strong",null,"Tax(13%): ",-1)]))),_:1,__:[8]}),(0,s.bF)(d,{class:"text-right col-3"},{default:(0,s.k6)((()=>[(0,s.eW)(" $"+(0,l.v_)(c.state.taxAmount),1)])),_:1})])),_:1}),(0,s.bF)(p,null,{default:(0,s.k6)((()=>[(0,s.bF)(d,{class:"col-8 text-right text-info",style:{"font-size":"large"}},{default:(0,s.k6)((()=>e[9]||(e[9]=[(0,s.Lk)("strong",null,"Total: ",-1)]))),_:1,__:[9]}),(0,s.bF)(d,{class:"text-right col-3 text-info"},{default:(0,s.k6)((()=>[(0,s.eW)(" $"+(0,l.v_)(c.state.toalAmount),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Lk)("div",null,[(0,s.bF)(h,{class:"q-ma-md q-pa-sm",dense:"",icon:"remove_shopping_cart",color:"negative",label:"Empty Cart",onClick:e[0]||(e[0]=t=>c.clearCart()),style:{"max-width":"50vw"}}),(0,s.bF)(h,{class:"q-mr-sm",color:"primary",label:"Checkout",disable:c.state.cart.length<1,onClick:e[1]||(e[1]=t=>c.saveCart())},null,8,["disable"])])])),_:1})])}a(939),a(4520);var n=a(4187),i=a(2403);const u={setup(){(0,s.sV)((()=>{t.cart=JSON.parse(sessionStorage.getItem("cart")||"[]"),t.cart.forEach((e=>{t.priceTotal+=e.item.msrp*e.qty})),t.priceTotal=t.priceTotal.toFixed(2),t.taxAmount=(.13*t.priceTotal).toFixed(2),t.toalAmount=(1.13*t.priceTotal).toFixed(2)}));let t=(0,n.Kh)({status:"",cart:[],priceTotal:0,taxAmount:0,toalAmount:0,itemPrice:0});const e=()=>{sessionStorage.removeItem("cart"),t.cart=[],t.status="cart Cleared",t.itemPrice=0,t.taxAmount=0,t.toalAmount=0,t.priceTotal=0},a=async()=>{let a=JSON.parse(sessionStorage.getItem("customer"));try{t.status="Saving cart....";let s={email:a.email,selections:t.cart},l=await(0,i.W)("Order",s);l>0&&(e(),t.status="Cart ID ["+l+"] saved!")}catch(e){console.log(e),t.status=`Error checing out: ${e}`}};return{state:t,clearCart:e,saveCart:a}}};var m=a(2968),d=a(5305),p=a(3933),_=a(6783),g=a(2589),h=a(4958),f=a(3341),k=a(3766),b=a(9039),x=a(272),v=a.n(x);const y=(0,m.A)(u,[["render",c]]),F=y;v()(u,"components",{QAvatar:d.A,QIcon:p.A,QScrollArea:_.A,QItem:g.A,QItemSection:h.A,QCard:f.A,QList:k.A,QBtn:b.A})},2403:(t,e,a)=>{a.d(e,{G:()=>l,W:()=>r});const s="localhost"===window.location.hostname?"https://localhost:7261/api/":"/api/",l=async t=>{let e,a=o();try{let l=await fetch(`${s}${t}`,{method:"GET",headers:a});e=await l.json()}catch(t){console.log(t),e={error:`Error has occured: ${t.message}`}}return e},r=async(t,e)=>{let a,l=o();try{let r=await fetch(`${s}${t}`,{method:"POST",headers:l,body:JSON.stringify(e)});a=await r.json()}catch(t){a=t}return a},o=()=>{const t=new Headers,e=JSON.parse(sessionStorage.getItem("customer"));return e?(t.append("Content-Type","application/json"),t.append("Authorization","Bearer "+e.token)):t.append("Content-Type","application/json"),t}}}]);